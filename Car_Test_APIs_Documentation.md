# Car Test APIs Documentation

## ูุธุฑุฉ ุนุงูุฉ
ูุฐู ูู APIs ููุชุญูู ูู ุตุญุฉ ุจูุงูุงุช ุงูุนุฑุจูุงุช ูุจู ุงูุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช. ุชุชูุญ ูุฐู APIs ูููุทูุฑูู ูุงููุณุชุฎุฏููู ุงุฎุชุจุงุฑ ุงูุจูุงูุงุช ูุงูุญุตูู ุนูู ุงูุชุฑุงุญุงุช ูููุงุฑูุงุช ุฐููุฉ.

## ุงูู APIs ุงูุฌุฏูุฏุฉ ุงููุญุฏุซุฉ

### 1. ุชูุณุช ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ (ูุญุฏุซ) ๐
**POST** `/api/cars/test/basic-info/`

ุชุชุญูู ูู ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ ููุนุฑุจูุฉ ูุน ูุญุต ุฐูู ููุนุฑุจูุงุช ุงููุดุงุจูุฉ ูุงูููุฑุฑุฉ.

#### Request Body:
```json
{
  "model": "Corolla",
  "brand": "Toyota", 
  "car_type": "Sedan",
  "car_category": "Economy",
  "plate_number": "ABC123",
  "year": 2020,
  "color": "ุฃุจูุถ",
  "seating_capacity": 5,
  "transmission_type": "Automatic",
  "fuel_type": "Petrol",
  "current_odometer_reading": 50000
}
```

#### Response (ูุญุฏุซ):
```json
{
  "stage": "basic_info",
  "valid": true,
  "errors": {},
  "warnings": [
    "ูุฏูู 2 ุนุฑุจูุฉ ูุดุงุจูุฉ ุจุงููุนู"
  ],
  "message": "ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ ุตุญูุญุฉ!",
  "next_step": "rental_options",
  "existing_car_check": {
    "plate_available": true,
    "existing_car": null,
    "similar_cars": [
      {
        "id": 15,
        "model": "Corolla",
        "brand": "Toyota",
        "year": 2019,
        "plate_number": "XYZ789",
        "status": "Available",
        "match_level": "ุฏููู"
      }
    ],
    "similar_count": 1
  },
  "market_stats": {
    "total_cars_of_type": 45,
    "popularity": "ุนุงูู"
  }
}
```

**ุงูุชุญุฏูุซุงุช ุงูุฌุฏูุฏุฉ:**
- ูุญุต ูุฌูุฏ ุงูุนุฑุจูุฉ ุจุฑูู ุงูููุญุฉ ูุน ุชูุงุตูู ุงููุงูู
- ุงูุจุญุซ ุนู ุงูุนุฑุจูุงุช ุงููุดุงุจูุฉ ูููุณุชุฎุฏู 
- ุฅุญุตุงุฆูุงุช ุงูุณูู ูููุน ุงูุนุฑุจูุฉ
- ุชุญุฐูุฑุงุช ุฃูุซุฑ ุฐูุงุกู

---

### 2. ุชูุณุช ุฎูุงุฑุงุช ุงูุฅูุฌุงุฑ (ูุญุฏุซ) ๐
**POST** `/api/cars/test/rental-options/`

ุชุชุญูู ูู ุฎูุงุฑุงุช ุงูุฅูุฌุงุฑ ูุน ููุงุฑูุฉ ุงูุฃุณุนุงุฑ ุจุงูุณูู ูุชุงุฑูุฎ ุงููุณุชุฎุฏู.

#### Request Body:
```json
{
  "available_without_driver": true,
  "available_with_driver": true,
  "daily_rental_price": 350,
  "monthly_rental_price": 8000,
  "daily_rental_price_with_driver": 650,
  "monthly_price_with_driver": 15000
}
```

#### Response (ูุญุฏุซ):
```json
{
  "stage": "rental_options",
  "valid": true,
  "errors": {},
  "warnings": [],
  "message": "ุฎูุงุฑุงุช ุงูุฅูุฌุงุฑ ุตุญูุญุฉ!",
  "next_step": "usage_policy",
  "market_comparison": {
    "market_average": 325.50,
    "your_price": 350,
    "difference_percent": 7.5,
    "status": "ูุทุงุจู ููุณูู"
  },
  "user_price_history": [
    {
      "car": "Honda Civic",
      "price": 300,
      "year": 2018
    }
  ],
  "pricing_tips": [
    "ุงูุณุนุฑ ุงููุนููู ูุฌุฐุจ ุงููุฒูุฏ ูู ุงูุนููุงุก",
    "ุฑุงูุจ ุฃุณุนุงุฑ ุงูููุงูุณูู ูู ููุทูุชู",
    "ููููู ุชุนุฏูู ุงูุฃุณุนุงุฑ ูุงุญูุงู ุญุณุจ ุงูุทูุจ"
  ]
}
```

**ุงูุชุญุฏูุซุงุช ุงูุฌุฏูุฏุฉ:**
- ููุงุฑูุฉ ุงูุฃุณุนุงุฑ ูุน ูุชูุณุท ุงูุณูู
- ุชุงุฑูุฎ ุฃุณุนุงุฑ ุงููุณุชุฎุฏู ุงูุณุงุจูุฉ
- ูุตุงุฆุญ ุชุณุนูุฑ ุฐููุฉ
- ุชุญููู ุงููุฑูู ุงูุณุนุฑูุฉ

---

### 3. ุชูุณุช ุณูุงุณุฉ ุงูุงุณุชุฎุฏุงู (ูุญุฏุซ) ๐  
**POST** `/api/cars/test/usage-policy/`

ุชุชุญูู ูู ุณูุงุณุฉ ุงูุงุณุชุฎุฏุงู ูุน ููุงุฑูุฉ ุจุณูุงุณุงุช ุงูุณูู ูุงููุณุชุฎุฏู.

#### Request Body:
```json
{
  "daily_km_limit": 200,
  "extra_km_cost": 2.5,
  "daily_hour_limit": 12,
  "extra_hour_cost": 15
}
```

#### Response (ูุญุฏุซ):
```json
{
  "stage": "usage_policy", 
  "valid": true,
  "errors": {},
  "warnings": [],
  "message": "ุณูุงุณุฉ ุงูุงุณุชุฎุฏุงู ุตุญูุญุฉ!",
  "next_step": "complete",
  "market_comparison": {
    "market_avg_km_limit": 210.50,
    "market_avg_km_cost": 2.20,
    "your_km_limit": 200,
    "your_km_cost": 2.5,
    "limit_comparison": "ุฃูู ูู ุงูุณูู",
    "cost_comparison": "ุฃุนูู ูู ุงูุณูู"
  },
  "user_policy_history": [
    {
      "car": "Toyota Camry",
      "daily_km_limit": 250,
      "extra_km_cost": 2.0,
      "year": 2019
    }
  ],
  "policy_tips": [
    "ุญุฏ ุงููููููุชุฑุงุช ุงููุนููู ูุฌุฐุจ ุงููุณุชุฃุฌุฑูู",
    "ุชูููุฉ ุฅุถุงููุฉ ูุนูููุฉ ุชุญูู ุณูุงุฑุชู",
    "ุฑุงูุจ ููู ูุณุชุฎุฏู ุงููุณุชุฃุฌุฑูู ุณูุงุณุงุชู"
  ]
}
```

**ุงูุชุญุฏูุซุงุช ุงูุฌุฏูุฏุฉ:**
- ููุงุฑูุฉ ูุน ูุชูุณุท ุณูุงุณุงุช ุงูุณูู
- ุชุงุฑูุฎ ุณูุงุณุงุช ุงููุณุชุฎุฏู ุงูุณุงุจูุฉ
- ูุตุงุฆุญ ุณูุงุณุฉ ุฐููุฉ
- ุชุญููู ุงูุชูุงุฒู ุจูู ุงูุณุนุฑ ูุงูุญุฏูุฏ

---

### 4. ุชุญูู ุณุฑูุน ูู ุฑูู ุงูููุญุฉ (ูุญุฏุซ) ๐
**POST** `/api/cars/test/plate-check/`

ุชุญูู ุณุฑูุน ูุฐูู ูู ุฑูู ุงูููุญุฉ ูุน ุงูุชุฑุงุญุงุช.

#### Request Body:
```json
{
  "plate_number": "ABC123"
}
```

#### Response (ูุญุฏุซ):
```json
{
  "plate_number": "ABC123",
  "valid_format": true,
  "available": false,
  "status": "ููุฌูุฏ ุจุงููุนู",
  "existing_car": {
    "id": 25,
    "model": "Corolla", 
    "brand": "Toyota",
    "year": 2020,
    "owner_is_you": false,
    "status": "Available"
  },
  "message": "ุฑูู ุงูููุญุฉ ูุณุชุฎุฏู ูู ูุงูู ุขุฎุฑ",
  "suggestions": [
    "ABC124",
    "ABC125", 
    "ABC126"
  ],
  "suggestion_message": "ุงูุชุฑุงุญุงุช ูุชุงุญุฉ"
}
```

**ุงูุชุญุฏูุซุงุช ุงูุฌุฏูุฏุฉ:**
- ุฅุธูุงุฑ ุชูุงุตูู ุงูุนุฑุจูุฉ ุงูููุฌูุฏุฉ
- ุชุญุฏูุฏ ูุง ุฅุฐุง ูุงูุช ุงูุนุฑุจูุฉ ูููุณุชุฎุฏู ููุณู
- ุงูุชุฑุงุญุงุช ุฃุฑูุงู ูุดุงุจูุฉ ูุชุงุญุฉ
- ุฑุณุงุฆู ูููุฏุฉ ุญุณุจ ุญุงูุฉ ุงูุนุฑุจูุฉ

---

### 5. ุชูุณุช ุดุงูู (ูุญุฏุซ)
**POST** `/api/cars/test/complete/`

ูุดุบู ุฌููุน ุงูุชุญููุงุช ูุน ูุนุงููุฉ ุงูุชูุงููู.

#### Response (ูุญุฏุซ):
```json
{
  "stage": "complete",
  "valid": true,
  "errors": {},
  "warnings": [
    "ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ: ูุฏูู 2 ุนุฑุจูุฉ ูุดุงุจูุฉ ุจุงููุนู",
    "ุฎูุงุฑุงุช ุงูุฅูุฌุงุฑ: ุงูุณุนุฑ ูุทุงุจู ููุณูู"
  ],
  "summary": {
    "basic_info_valid": true,
    "rental_options_valid": true, 
    "usage_policy_valid": true,
    "ready_to_submit": true
  },
  "cost_preview": {
    "daily_cost_per_km": 1.75,
    "weekly_cost": 2450,
    "monthly_cost": 10500,
    "estimated_monthly_km": 6000
  },
  "message": "ุฌููุน ุจูุงูุงุช ุงูุนุฑุจูุฉ ุตุญูุญุฉ ูุฌุงูุฒุฉ ููุฅุฑุณุงู!",
  "next_action": "submit_car"
}
```

---

### 6. ุงูุชุฑุงุญุงุช ุงูุฃุณุนุงุฑ ุงูุฐููุฉ
**POST** `/api/cars/test/pricing-suggestions/`

ุงูุชุฑุงุญุงุช ุฃุณุนุงุฑ ุฐููุฉ ุจูุงุกู ุนูู ููุน ุงูุนุฑุจูุฉ ูุงูุณูู.

#### Response ูุซุงู:
```json
{
  "car_info": {
    "type": "SUV",
    "category": "Luxury", 
    "year": 2020,
    "age": 4
  },
  "suggested_prices": {
    "without_driver": {
      "daily": 600,
      "monthly": 15000
    },
    "with_driver": {
      "daily": 1140,
      "monthly": 28500
    }
  },
  "suggested_policy": {
    "daily_km_limit": 200,
    "extra_km_cost": 4.5,
    "daily_hour_limit": 12,
    "extra_hour_cost": 50
  },
  "price_range": {
    "min": 480,
    "max": 720
  },
  "tips": [
    "ุงูุชุฑุญ ุณุนุฑ ุจูู 540 - 660 ุฌููู/ููู",
    "ุฑุงูุจ ุฃุณุนุงุฑ ุงูููุงูุณูู ูู ููุทูุชู",
    "ุงุถุจุท ุงูุฃุณุนุงุฑ ุญุณุจ ุงูุทูุจ ูุงูููุณู"
  ]
}
```

## ุงููููุฒุงุช ุงูุฌุฏูุฏุฉ

### ๐ ูุญุต ุฐูู ููุนุฑุจูุงุช ุงูููุฑุฑุฉ
- ุชุญูู ูู ูุฌูุฏ ุงูุนุฑุจูุฉ ุจุฑูู ุงูููุญุฉ
- ุนุฑุถ ุชูุงุตูู ุงูุนุฑุจูุฉ ุงูููุฌูุฏุฉ
- ุงูุจุญุซ ุนู ุงูุนุฑุจูุงุช ุงููุดุงุจูุฉ ูููุณุชุฎุฏู
- ุชุญุฏูุฏ ูุณุชูู ุงูุชุทุงุจู (ุฏููู/ูุดุงุจู)

### ๐ ุชุญููู ุงูุณูู ูุงูููุงุฑูุงุช
- ููุงุฑูุฉ ุงูุฃุณุนุงุฑ ูุน ูุชูุณุท ุงูุณูู
- ุฅุญุตุงุฆูุงุช ุดุนุจูุฉ ููุน ุงูุนุฑุจูุฉ
- ููุงุฑูุฉ ุณูุงุณุงุช ุงูุงุณุชุฎุฏุงู ูุน ุงูุณูู
- ุนุฑุถ ุชุงุฑูุฎ ุฃุณุนุงุฑ ูุณูุงุณุงุช ุงููุณุชุฎุฏู

### ๐ก ุงูุชุฑุงุญุงุช ุฐููุฉ
- ุงูุชุฑุงุญุงุช ุฃุฑูุงู ููุญุงุช ูุชุงุญุฉ
- ูุตุงุฆุญ ุชุณุนูุฑ ุญุณุจ ุงูุณูู
- ุชูุตูุงุช ุณูุงุณุฉ ุงูุงุณุชุฎุฏุงู
- ุชุญุฐูุฑุงุช ูุฅุฑุดุงุฏุงุช ูุฎุตุตุฉ

### ๐ ูุนุงููุฉ ุงูุชูุงููู
- ุญุณุงุจ ุชูููุฉ ุงููููู ุงููุงุญุฏ
- ุชูุฏูุฑ ุงูุชูุงููู ุงูุฃุณุจูุนูุฉ ูุงูุดูุฑูุฉ
- ุชููุน ุงููููููุชุฑุงุช ุงูุดูุฑูุฉ
- ุชุญููู ุงูุนุงุฆุฏ ุงููุชููุน

## ุญุงูุงุช ุงูุงุณุชุฎุฏุงู

### ูููุทูุฑูู
```javascript
// ุชุญูู ุณุฑูุน ูู ุฑูู ุงูููุญุฉ
const plateCheck = await fetch('/api/cars/test/plate-check/', {
  method: 'POST',
  body: JSON.stringify({ plate_number: 'ABC123' })
});

// ุชุญูู ูู ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ ูุน ูุญุต ุงูุชูุฑุงุฑ
const basicCheck = await fetch('/api/cars/test/basic-info/', {
  method: 'POST', 
  body: JSON.stringify(carBasicData)
});

// ููุงุฑูุฉ ุงูุฃุณุนุงุฑ ูุน ุงูุณูู
const pricingCheck = await fetch('/api/cars/test/rental-options/', {
  method: 'POST',
  body: JSON.stringify(pricingData)
});
```

### ูููุณุชุฎุฏููู
1. **ุฅุฏุฎุงู ุฑูู ุงูููุญุฉ** - ูุชุญูู ููุฑูุงู ูู ุงูุชููุฑ ูุน ุงูุชุฑุงุญุงุช
2. **ุฅุฏุฎุงู ุจูุงูุงุช ุงูุนุฑุจูุฉ** - ููุญุต ุงูุชูุฑุงุฑ ููุนุฑุถ ุงูุนุฑุจูุงุช ุงููุดุงุจูุฉ
3. **ุชุญุฏูุฏ ุงูุฃุณุนุงุฑ** - ููุงุฑู ูุน ุงูุณูู ููุนุทู ูุตุงุฆุญ
4. **ุชุญุฏูุฏ ุณูุงุณุฉ ุงูุงุณุชุฎุฏุงู** - ููุงุฑู ูุน ุงููุนุงููุฑ ุงูุณุงุฆุฏุฉ
5. **ุงููุฑุงุฌุนุฉ ุงูููุงุฆูุฉ** - ูุนุงููุฉ ุดุงููุฉ ูุจู ุงูุญูุธ

## ุฑููุฒ ุงูุญุงูุฉ ูุงูุฃุฎุทุงุก

### ุญุงูุงุช ุฑูู ุงูููุญุฉ
- `ูุชุงุญ` - ุฑูู ุงูููุญุฉ ูุชุงุญ ููุงุณุชุฎุฏุงู
- `ููุฌูุฏ ุจุงููุนู` - ุฑูู ูุณุชุฎุฏู ูู ูุงูู ุขุฎุฑ  
- `ูุฐู ุนุฑุจูุชู ุจุงููุนู!` - ุฑูู ูุณุชุฎุฏู ูู ููุณ ุงููุณุชุฎุฏู
- `ุชูุณูู ุฎุงุทุฆ` - ุฑูู ุงูููุญุฉ ุบูุฑ ุตุญูุญ

### ููุงุฑูุงุช ุงูุณูู
- `ุฃุนูู ูู ุงูุณูู` - ุฃูุซุฑ ูู 10% ููู ุงููุชูุณุท
- `ุฃูู ูู ุงูุณูู` - ุฃูุซุฑ ูู 10% ุชุญุช ุงููุชูุณุท  
- `ูุทุงุจู ููุณูู` - ุถูู ูุทุงู ยฑ10% ูู ุงููุชูุณุท

### ูุณุชููุงุช ุงูุชุทุงุจู
- `ุฏููู` - ุชุทุงุจู ูุงูู ูู ุงูููุฏูู ูุงููุงุฑูุฉ
- `ูุดุงุจู` - ุชุทุงุจู ูู ุงููุงุฑูุฉ ููุท ุฃู ุฌุฒุฆู

## ุงูุฎูุงุตุฉ

ุงูู APIs ุงููุญุฏุซุฉ ุชููุฑ ุชุฌุฑุจุฉ ุฃุฐูู ูุฃูุซุฑ ูุงุฆุฏุฉ ูููุณุชุฎุฏููู ูู ุฎูุงู:

โ **ูุญุต ุดุงูู ููุชูุฑุงุฑ ูุงูุชุทุงุจู**  
โ **ููุงุฑูุงุช ุฐููุฉ ูุน ุงูุณูู**  
โ **ุงูุชุฑุงุญุงุช ูุชูุตูุงุช ูุฎุตุตุฉ**  
โ **ูุนุงููุฉ ุงูุชูุงููู ูุงูุนูุงุฆุฏ**  
โ **ุชุญุฐูุฑุงุช ูุฅุฑุดุงุฏุงุช ูููุฏุฉ**  

ูุฐุง ูุณุงุนุฏ ุงููุณุชุฎุฏููู ุนูู ุงุชุฎุงุฐ ูุฑุงุฑุงุช ุฃูุถู ูุชุฌูุจ ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ ุนูุฏ ุฅุถุงูุฉ ุนุฑุจูุงุช ุฌุฏูุฏุฉ. 